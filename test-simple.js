const axios = require("axios"); async function test() { try { const login = await axios.post("http://localhost:4000/api/auth/login", {email:"admin@loyestask.com", password:"admin123"}); console.log("Login OK"); const report = await axios.get("http://localhost:4000/api/pdf/admin/summary/download", {headers: {"Authorization": `Bearer ${login.data}`}, responseType: "arraybuffer"}); console.log("Reporte OK:", Math.round(report.data.length / 1024), "KB"); require("fs").writeFileSync("test_colaboradores.pdf", report.data); console.log("Guardado: test_colaboradores.pdf"); } catch (e) { console.log("Error:", e.response?.status, e.message); } } test();
